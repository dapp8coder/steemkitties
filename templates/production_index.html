<!DOCTYPE html>
<html>
  <head>
    <title>SteemKitties</title>
    <meta charset="UTF-8">
    <meta name="description" content="SteemKitties is a Decentralized Story Hub for Your CryptoKitties, based on Steem blockchain.">
    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <!--server:header-->
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<style>
	.col-md-3 {
		max-width: 220px;
		float: left;
	}

.kittyCard {
    margin-top: 5%;
    margin-bottom: 3%;
    margin-left: -7%;
    margin-right: -7%;
    max-width: 200px;
}
.wellColor {
  background-color: white !important;
  padding-left: 2.3%;
  padding-right: 2.3%;
}
.kittyTextID{
  color: #2a2825;
  font-family: Helvetica,Arial,sans-serif;
}
.details{
  font: Helvetica,Arial,sans-serif;
  color: #82817d;
}
.textbox{
  padding-bottom: 5%;
}

	</style>
	
  </head>
  <body>
    <div id="app"><!--server:html--></div>
	
	
		<script src="//cdn.steemjs.com/lib/latest/steem.min.js"></script>	
	<script> $(document).ready(function() {
	var user = $("Topnav__user").href;
	
	
    steem.api.getAccounts(user, function(err, result){
        if(err){
            console.log(err);
           
        }
        var info = JSON.parse(result[0].json_metadata);
		console.log(info.profile.cryptokitties);
		
        var MY_ADDRESS = info.profile.cryptokitties;
		 $('.Editor').html('<div id="cryptokitties" class="ant-row ant-form-item"></div>');
      
	  
	  
	  
	
	  
      
      $('#cryptokitties').cryptoCase(MY_ADDRESS);
    });
    
   

     
    });
	
	
	
	(function($) {
    $.fn.cryptoCase = function(address) {
      const URL = 'https://api.cryptokitties.co/kitties?owner_wallet_address='
          + address;
      const INDIVIDUAL_URL = 'https:\/\/www.cryptokitties.co\/kitty\/';
      var location = this;
      const COLORS = new Object();
        COLORS['sizzurp'] = '#c1c1ea';
        COLORS['bubblegum'] = '#fcdede';
        COLORS['limegreen'] = '#d9f5cb';
        COLORS['topaz'] = '#d1eeeb';
        COLORS['thundergrey'] = '#eee9e8';
        COLORS['chestnut'] = '#efe1da';
        COLORS['mintgreen'] = '#cdf5d4';
        COLORS['pumpkin'] = '#fae1ca';
        COLORS['gold'] = '#faf4cf';
        COLORS['babypuke'] = '#eff1e0';
        COLORS['strawberry'] = '#efbaba';
      var newColors = new Object();
      var cats = "";
      $.ajax({
        url: URL,
        cache: false,
        success: function(response) {
          cats += "<div class=\"container\"><div class=\"well\ wellColor\">"
              + "<div class=\"row\">";
          var max = 12;
          if (response.total < 12) {
            max = response.total;
          };
          var j = max;
          for (i = 0; i < max; i++) {
            var cat = response.kitties[i];
            var details = "";
            details += "<div class=\"textbox\" align=\"left\">"
                + "<span class=\"kittyTextID\">Kitty #"
                + cat.id + "<\/span><span class=\"details\"> &#xB7; Gen "
                + cat.generation + "<\/span>";
            if (cat.is_exclusive) {
              details += "<span class=\"details\"> &#xB7; Exclusive<\/span>";
            } if (cat.is_fancy) {
              details += "<span class=\"details\"> &#xB7; Fancy<\/span>";
            }
              details += "<\/div>";
            if (i == 4 || i == 8) {
              cats += "<div class=\"row\">";
            }
            cats += "<div class=\"col-sm-6 col-md-3\" align=\"center\">"
                + "<div class=\"kittyCard\" id=\"" + j + "\">"
                + "<a href=\"" + INDIVIDUAL_URL + cat.id + "\"><img class=\""
                + "image img-responsive\" src=" + cat.image_url + " id=\""
                + i + "\"><\/a></div>" + "<div>" + details + "</div></div>";
            if (i == 3 || i == 7 || i == 11) {
              cats += "<\/div>";
            }
            newColors[i] = COLORS[cat.color];
            newColors[j] = COLORS[cat.color];
            j++;
          }
          cats += "</div></div>";
          $(location).html(cats);
          for (i = 0; i < max; i++) {
            var change = "#" + i;
            $(change).css('background-color', newColors[i]);
            $(change).css('border-radius', '5px');
          }
          for (l = max; l < (max * 2); l++) {
            var change2 = "#" + l;
            $(change2).css('background-color', newColors[j]);
          }
        }
      });
    };
}(jQuery));
	
	
	
	
	
	
	
	
	</script>
	
	
    <!--server:scripts-->
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=Intl.~locale.en,Intl.~locale.zh,Intl.~locale.fr,Intl.~locale.de,Intl.~locale.ru,Intl.~locale.ko,Intl.~locale.nl"></script>
	<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114127732-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-114127732-1');
</script>

  </body>
</html>
